/* ---------------------------
   global variables (keep existing values if you already have them)
   --------------------------- */
:root{
  --cream: #fff7f0;
  --text: #2b2622;
  --card: #fff;
  --accent: #6fbf73;
  --green: #7ecf7b;
  --yes: #2fb36f;
  --no: #d9534f;
  --brown: #6b4b3d; /* fallback for bottom-nav */
}

/* Apply DynaPuff site-wide (index.html already preloads the font) */
html, body, #app,
.screen, .prompt, .card, .row, .kv,
input, textarea, select, button, a, p, span,
h1, h2, h3, h4, h5, h6, label {
  font-family: "DynaPuff", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* keep bottom space for fixed nav */
body {
  margin: 0;
  background: var(--cream);
  color: var(--text);
}

/* main app container */
#app{
  padding:16px 16px 96px; /* bottom space so content doesn't sit under the fixed nav */
  min-height:100dvh;
  position:relative;
}

/* Generic screen frame */
.screen{
  position:relative;
  min-height:calc(100dvh - 112px);
  border-radius:12px;
  overflow:hidden;
}

/* Top-left hex settings icon */
.settings{
  position:absolute;
  top:8px; left:8px;
  width:28px; height:28px;
  color:var(--text); opacity:.85;
}

/* Level + progress */
.level-row{
  display:flex; align-items:center; gap:12px;
  font-weight:700; font-size:1.1rem;
  margin:8px 8px 12px;
}
.level-sub{ font-weight:600; color:#3d2b1f; }
.progress{
  flex:1; height:8px; background:#ddd; border-radius:6px; overflow:hidden;
}
.progress > span{ display:block; height:100%; background:var(--accent); width:0% }

/* Prompt card */
.prompt{
  background:var(--card);
  color:var(--text);
  border-radius:16px;
  padding:16px;
  width:min(520px, 92%);
  box-shadow: 0 2px 0 rgba(0,0,0,.15) inset, 0 2px 8px rgba(0,0,0,.06);
}
.prompt h3{ margin:0 0 12px; font-size:1rem }
.prompt .actions{ display:flex; gap:12px }
.btn{
  appearance:none; border:0; cursor:pointer;
  padding:10px 16px; border-radius:12px; color:#fff; font-weight:700;
}
.btn.yes{ background:var(--yes) }
.btn.no{ background:var(--no) }
.xp{ margin-left:8px; font-weight:700; color:#246e3f }

/* Leaf buddy placeholder */
.leaf{
  position:absolute; right:16px; top:40px;
  font-size:64px; transform: rotate(-6deg);
}

/* Hills */
.hills{
  position:absolute; left:0; right:0; bottom:64px; height:140px;
}
.hill{
  position:absolute; bottom:0; width:55%; height:120px; background:var(--green);
  border-top-left-radius:120px; border-top-right-radius:120px;
}
.hill.left{ left:-5%; }
.hill.right{ right:-5%; width:65% }

/* Actions list */
.card{
  background:var(--card); border-radius:16px; padding:16px;
  margin:12px 8px; box-shadow: 0 2px 8px rgba(0,0,0,.06);
}
.row{ display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px dashed rgba(0,0,0,.1) }
.row:last-child{ border-bottom:0 }
.kv{ display:flex; gap:12px; /* no separate monospace stack so DynaPuff applies */ }
.k{ opacity:.7; min-width:92px }
.toggle{
  display:inline-flex; align-items:center; gap:8px; font-weight:700
}
.switch{
  width:44px; height:26px; border-radius:999px; background:#bbb; position:relative;
}
.switch::after{
  content:""; position:absolute; width:20px; height:20px; top:3px; left:3px;
  border-radius:50%; background:#fff; transition:.2s;
}
.switch.on{ background:var(--accent) }
.switch.on::after{ left:21px }

/* Footer quick links */
.footer-links{
  display:flex; gap:12px; margin:12px 8px;
}
.link-btn{
  background:#ddd2b9; border:0; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600
}

/* Leaderboard */
.lb-row{ display:flex; align-items:center; justify-content:space-between; padding:10px 0; border-bottom:1px dashed rgba(0,0,0,.1) }
.lb-row:last-child{ border-bottom:0 }

/* Bottom navigation â€” ensure visible and above other content */
.bottom-nav{
  position:fixed; left:0; right:0; bottom:0;
  height:72px; background:var(--brown, #6b4b3d);
  display:flex; justify-content:space-around; align-items:center;
  padding:10px 8px calc(env(safe-area-inset-bottom, 0) + 8px);
  z-index:9999; /* ensure the nav stays on top */
}
.nav-btn{
  width:56px; height:48px; border-radius:12px; border:none; color:#fff; background:transparent;
  display:grid; place-items:center; cursor:pointer; transition:.15s transform ease;
}
.nav-btn:active{ transform: translateY(1px) }
.nav-btn.active{ background:rgba(255,255,255,.12) }
.nav-btn svg{ width:28px; height:28px }

/* Small screens */
@media (min-width:640px){
  #app{ display:grid; place-content:center; }
  .screen{ width:420px; }
}